<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å­¦ç”Ÿå•ä½è½¬æ¢å™¨</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Comic Sans MS', 'Marker Felt', 'Arial Rounded MT Bold', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e0f7fa, #bbdefb);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            background-color: #ff6b6b;
            border-radius: 20px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border: 3px solid #ffd700;
        }
        
        h1 {
            color: white;
            font-size: 2.2em;
            margin: 10px 0;
            text-shadow: 2px 2px 0 #d35400;
        }
        
        .subtitle {
            color: #2c3e50;
            background-color: rgba(255, 255, 255, 0.8);
            display: inline-block;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 1.1em;
            margin-top: 5px;
        }
        
        .app-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 25px;
            border: 4px solid #4fc3f7;
            position: relative;
            overflow: hidden;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .tab {
            background-color: #81d4fa;
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #01579b;
            box-shadow: 0 4px 0 #4fc3f7;
            flex: 1;
            min-width: 140px;
            text-align: center;
            position: relative;
            z-index: 2;
        }
        
        .tab:hover {
            background-color: #4fc3f7;
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #29b6f6;
        }
        
        .tab.active {
            background-color: #29b6f6;
            color: white;
            transform: translateY(4px);
            box-shadow: 0 0px 0 #4fc3f7;
        }
        
        .tab i {
            margin-right: 8px;
            font-size: 1.3em;
        }
        
        .converter-section {
            background-color: rgba(236, 240, 241, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 2px dashed #4db6ac;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            position: relative;
            z-index: 2;
        }
        
        .section-title {
            grid-column: span 2;
            color: #0288d1;
            font-weight: bold;
            font-size: 1.4em;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 3px solid #4db6ac;
            padding-bottom: 10px;
        }
        
        .unit-group {
            background-color: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            transition: all 0.3s;
        }
        
        .unit-group:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
        }
        
        .unit-label {
            display: block;
            font-weight: bold;
            margin-bottom: 15px;
            color: #0097a7;
            font-size: 1.1em;
        }
        
        select, input {
            width: 100%;
            padding: 15px;
            border: 2px solid #81d4fa;
            border-radius: 10px;
            font-size: 1.1em;
            background-color: #e1f5fe;
            color: #2c3e50;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #0288d1;
            box-shadow: 0 0 8px rgba(2, 136, 209, 0.5);
        }
        
        .input-group {
            grid-column: span 2;
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 30px 0;
            flex-wrap: wrap;
            position: relative;
            z-index: 2;
        }
        
        .btn {
            padding: 15px 35px;
            font-size: 1.3em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 5px 0 rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 200px;
        }
        
        .btn:active {
            transform: translateY(5px);
            box-shadow: 0 0px 0 rgba(0,0,0,0.2);
        }
        
        .convert-btn {
            background: linear-gradient(to right, #66bb6a, #43a047);
            color: white;
        }
        
        .convert-btn:hover {
            background: linear-gradient(to right, #57a75a, #388e3c);
        }
        
        .explain-btn {
            background: linear-gradient(to right, #ffa726, #fb8c00);
            color: white;
        }
        
        .explain-btn:hover {
            background: linear-gradient(to right, #f57c00, #e65100);
        }
        
        .result-section {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border: 4px solid #aed581;
            position: relative;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .result-title {
            color: #2e7d32;
            font-size: 1.5em;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .result-display {
            font-size: 3em;
            font-weight: bold;
            color: #ff6d00;
            margin: 20px 0;
            transition: all 0.5s;
            min-height: 60px;
        }
        
        .formula-container {
            background-color: #fffde7;
            border-radius: 15px;
            padding: 20px;
            margin-top: 25px;
            border-left: 6px solid #ffca28;
            text-align: left;
            display: none;
            animation: reveal 0.6s ease-out;
        }
        
        @keyframes reveal {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .formula-title {
            color: #ff6f00;
            font-weight: bold;
            margin: 0 0 15px 0;
            font-size: 1.3em;
            border-bottom: 2px solid #ffd54f;
            padding-bottom: 10px;
        }
        
        .formula {
            font-family: 'Courier New', monospace;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 1.3em;
            line-height: 1.8;
            border: 2px solid #ffe082;
            background-color: white;
            color: #d35400;
        }
        
        .info-note {
            font-size: 1.1em;
            color: #7f8c8d;
            margin-top: 20px;
            font-style: italic;
        }
        
        .decoration {
            position: absolute;
            opacity: 0.08;
            z-index: 1;
            font-size: 10em;
            pointer-events: none;
        }
        
        .decoration.top-left { top: -40px; left: -30px; color: #ff7043; transform: rotate(-20deg); }
        .decoration.top-right { top: -50px; right: -40px; color: #7e57c2; transform: rotate(15deg); }
        .decoration.bottom-left { bottom: -60px; left: -20px; color: #26a69a; transform: rotate(10deg); }
        .decoration.bottom-right { bottom: -70px; right: -30px; color: #ff6b6b; transform: rotate(-15deg); }
        .btn-back {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 15px 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            text-decoration: none;
        }
        .btn-back:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(102, 126, 234, 0.4);
        }
        
        .unit-highlight {
            background-color: #4fc3f7;
            color: white;
            padding: 2px 8px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        @media (max-width: 650px) {
            .converter-section {
                grid-template-columns: 1fr;
            }
            .section-title, .input-group {
                grid-column: 1;
            }
            .action-buttons {
                flex-direction: column;
                align-items: center;
                gap: 15px;
            }
            .btn {
                width: 100%;
                max-width: 300px;
            }
            .result-display {
                font-size: 2.5em;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1><i class="fas fa-exchange-alt"></i> å°å­¦ç”Ÿå•ä½è½¬æ¢å™¨</h1>
        <div class="subtitle">è½»æ¾å­¦ä¹ å•ä½è½¬æ¢çš„ç¥å¥‡å·¥å…·</div>
    </div>
    
    <div class="app-container">
        <div class="tabs">
            <button class="tab active" id="tabTemp"><i class="fas fa-temperature-high"></i> æ¸©åº¦</button>
            <button class="tab" id="tabLength"><i class="fas fa-ruler"></i> é•¿åº¦</button>
            <button class="tab" id="tabWeight"><i class="fas fa-weight-hanging"></i> é‡é‡</button>
        </div>
        
        <div class="converter-section">
            <div class="section-title">è½¬æ¢è®¾ç½®</div>
            
            <div class="unit-group">
                <label class="unit-label">ä»å“ªä¸ªå•ä½</label>
                <select id="inputUnit">
                    <option value="Â°C">æ‘„æ°åº¦ (Â°C)</option>
                    <option value="Â°F">åæ°åº¦ (Â°F)</option>
                </select>
            </div>
            
            <div class="unit-group">
                <label class="unit-label">è½¬æ¢åˆ°å“ªä¸ªå•ä½</label>
                <select id="outputUnit">
                    <option value="Â°F">åæ°åº¦ (Â°F)</option>
                    <option value="Â°C">æ‘„æ°åº¦ (Â°C)</option>
                </select>
            </div>
            
            <div class="unit-group input-group">
                <label class="unit-label">è¾“å…¥æ•°å€¼</label>
                <input type="number" id="inputValue" placeholder="è¯·è¾“å…¥è¦è½¬æ¢çš„æ•°å€¼...">
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn convert-btn" id="convertBtn">
                <i class="fas fa-sync-alt"></i> å¼€å§‹è½¬æ¢
            </button>
            <button class="btn explain-btn" id="explainBtn">
                <i class="fas fa-lightbulb"></i> æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹
            </button>
        </div>
        
        <div class="result-section">
            <div class="result-title">è½¬æ¢ç»“æœ:</div>
            <div class="result-display" id="resultDisplay">ç­‰å¾…è½¬æ¢ä¸­...</div>
            
            <div class="formula-container" id="formulaContainer">
                <div class="formula-title">è½¬æ¢å…¬å¼:</div>
                <div class="formula" id="formulaText">
                    <!-- å…¬å¼å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                </div>
            </div>
            
            <div class="info-note">
                <i class="fas fa-info-circle"></i> æç¤º: ç‚¹å‡»"æ˜¾ç¤ºè®¡ç®—è¿‡ç¨‹"æŒ‰é’®äº†è§£å•ä½çš„è½¬æ¢å…¬å¼
            </div>
        </div>
        
        <!-- è£…é¥°æ€§å…ƒç´  -->
        <div class="decoration top-left"><i class="fas fa-temperature-high"></i></div>
        <div class="decoration top-right"><i class="fas fa-ruler"></i></div>
        <div class="decoration bottom-left"><i class="fas fa-weight-hanging"></i></div>
        <div class="decoration bottom-right"><i class="fas fa-calculator"></i></div>
    </div>

    <button class="btn-back" onclick="location.href='index.html'">ğŸ”™ è¿”å›æ¸¸æˆå¤§å…</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // è·å–é¡µé¢å…ƒç´ 
            const tabTemp = document.getElementById('tabTemp');
            const tabLength = document.getElementById('tabLength');
            const tabWeight = document.getElementById('tabWeight');
            const inputUnit = document.getElementById('inputUnit');
            const outputUnit = document.getElementById('outputUnit');
            const inputValue = document.getElementById('inputValue');
            const convertBtn = document.getElementById('convertBtn');
            const explainBtn = document.getElementById('explainBtn');
            const resultDisplay = document.getElementById('resultDisplay');
            const formulaContainer = document.getElementById('formulaContainer');
            const formulaText = document.getElementById('formulaText');
            
            // å•ä½ç±»å‹æ•°æ®
            const unitData = {
                temp: {
                    units: [
                        {name: "æ‘„æ°åº¦", symbol: "Â°C"},
                        {name: "åæ°åº¦", symbol: "Â°F"}
                    ],
                    formulas: {
                        // ä»å•ä½ -> åˆ°å•ä½: å…¬å¼æè¿°
                        "Â°C->Â°F": "åæ°åº¦(Â°F) = æ‘„æ°åº¦(Â°C) Ã— 9/5 + 32",
                        "Â°F->Â°C": "æ‘„æ°åº¦(Â°C) = (åæ°åº¦(Â°F) - 32) Ã— 5/9"
                    }
                },
                length: {
                    units: [
                        {name: "ç±³", symbol: "m"},
                        {name: "å˜ç±³", symbol: "cm"},
                        {name: "è‹±å°º", symbol: "ft"},
                        {name: "è‹±å¯¸", symbol: "in"}
                    ],
                    formulas: {
                        "m->cm": "å˜ç±³(cm) = ç±³(m) Ã— 100",
                        "cm->m": "ç±³(m) = å˜ç±³(cm) Ã· 100",
                        "m->ft": "è‹±å°º(ft) â‰ˆ ç±³(m) Ã— 3.28084",
                        "ft->m": "ç±³(m) â‰ˆ è‹±å°º(ft) Ã· 3.28084",
                        "cm->in": "è‹±å¯¸(in) â‰ˆ å˜ç±³(cm) Ã· 2.54",
                        "in->cm": "å˜ç±³(cm) â‰ˆ è‹±å¯¸(in) Ã— 2.54"
                    }
                },
                weight: {
                    units: [
                        {name: "åƒå…‹", symbol: "kg"},
                        {name: "å…‹", symbol: "g"},
                        {name: "ç£…", symbol: "lb"}
                    ],
                    formulas: {
                        "kg->g": "å…‹(g) = åƒå…‹(kg) Ã— 1000",
                        "g->kg": "åƒå…‹(kg) = å…‹(g) Ã· 1000",
                        "kg->lb": "ç£…(lb) â‰ˆ åƒå…‹(kg) Ã— 2.20462",
                        "lb->kg": "åƒå…‹(kg) â‰ˆ ç£…(lb) Ã· 2.20462",
                        "g->lb": "ç£…(lb) â‰ˆ å…‹(g) Ã· 453.592",
                        "lb->g": "å…‹(g) â‰ˆ ç£…(lb) Ã— 453.592"
                    }
                }
            };
            
            // å½“å‰çŠ¶æ€
            let currentType = 'temp';
            let currentInputValue = '';
            
            // å•ä½ç±»å‹åˆ‡æ¢
            function switchType(type) {
                currentType = type;
                
                // æ›´æ–°æ ‡ç­¾çŠ¶æ€
                tabTemp.classList.toggle('active', type === 'temp');
                tabLength.classList.toggle('active', type === 'length');
                tabWeight.classList.toggle('active', type === 'weight');
                
                // æ›´æ–°å•ä½é€‰é¡¹
                updateUnitOptions();
                
                // é‡ç½®ç»“æœ
                resetConverter();
            }
            
            // æ›´æ–°å•ä½é€‰é¡¹
            function updateUnitOptions() {
                const units = unitData[currentType].units;
                
                // æ¸…ç©ºé€‰é¡¹
                inputUnit.innerHTML = '';
                outputUnit.innerHTML = '';
                
                // æ·»åŠ æ–°é€‰é¡¹
                units.forEach(unit => {
                    const inputOption = document.createElement('option');
                    inputOption.value = unit.symbol;
                    inputOption.textContent = `${unit.name} (${unit.symbol})`;
                    
                    const outputOption = document.createElement('option');
                    outputOption.value = unit.symbol;
                    outputOption.textContent = `${unit.name} (${unit.symbol})`;
                    
                    inputUnit.appendChild(inputOption);
                    outputUnit.appendChild(outputOption);
                });
                
                // è®¾ç½®åˆç†é»˜è®¤å€¼
                if (currentType === 'temp') {
                    inputUnit.value = 'Â°C';
                    outputUnit.value = 'Â°F';
                } else if (currentType === 'length') {
                    inputUnit.value = 'm';
                    outputUnit.value = 'cm';
                } else {
                    inputUnit.value = 'kg';
                    outputUnit.value = 'g';
                }
            }
            
            // æ‰§è¡Œå•ä½è½¬æ¢
            function convertUnits() {
                currentInputValue = inputValue.value;
                
                if (currentInputValue === '') {
                    resultDisplay.textContent = 'è¯·è¾“å…¥ä¸€ä¸ªæ•°å€¼';
                    resultDisplay.style.color = '#e74c3c';
                    return;
                }
                
                const inputNum = parseFloat(currentInputValue);
                
                if (isNaN(inputNum)) {
                    resultDisplay.textContent = 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—';
                    resultDisplay.style.color = '#e74c3c';
                    return;
                }
                
                const fromUnit = inputUnit.value;
                const toUnit = outputUnit.value;
                
                if (fromUnit === toUnit) {
                    resultDisplay.innerHTML = `${inputNum} ${toUnit} <span class="unit-highlight">(ç›¸åŒå•ä½ä¸éœ€è¦è½¬æ¢)</span>`;
                    resultDisplay.style.color = '#2e7d32';
                } else {
                    let result;
                    
                    // æ ¹æ®ä¸åŒå•ä½ç±»å‹è®¡ç®—
                    if (currentType === 'temp') {
                        if (fromUnit === 'Â°C' && toUnit === 'Â°F') {
                            result = (inputNum * 9/5 + 32).toFixed(2);
                        } else {
                            result = ((inputNum - 32) * 5/9).toFixed(2);
                        }
                    } else if (currentType === 'length') {
                        // ç®€åŒ–å¤„ç†ï¼Œä½¿ç”¨å‡ ä¸ªå¸¸è§è½¬æ¢ç³»æ•°
                        if (fromUnit === 'm' && toUnit === 'cm') result = inputNum * 100;
                        else if (fromUnit === 'cm' && toUnit === 'm') result = inputNum / 100;
                        else if (fromUnit === 'm' && toUnit === 'ft') result = inputNum * 3.28084;
                        else if (fromUnit === 'ft' && toUnit === 'm') result = inputNum / 3.28084;
                        else if (fromUnit === 'cm' && toUnit === 'in') result = inputNum / 2.54;
                        else if (fromUnit === 'in' && toUnit === 'cm') result = inputNum * 2.54;
                        else result = inputNum; // é»˜è®¤æƒ…å†µ
                    } else {
                        // é‡é‡è½¬æ¢
                        if (fromUnit === 'kg' && toUnit === 'g') result = inputNum * 1000;
                        else if (fromUnit === 'g' && toUnit === 'kg') result = inputNum / 1000;
                        else if (fromUnit === 'kg' && toUnit === 'lb') result = inputNum * 2.20462;
                        else if (fromUnit === 'lb' && toUnit === 'kg') result = inputNum / 2.20462;
                        else if (fromUnit === 'g' && toUnit === 'lb') result = inputNum / 453.592;
                        else if (fromUnit === 'lb' && toUnit === 'g') result = inputNum * 453.592;
                        else result = inputNum; // é»˜è®¤æƒ…å†µ
                    }
                    
                    resultDisplay.innerHTML = `<span class="unit-highlight">${result}</span> ${toUnit}`;
                    resultDisplay.style.color = '#ff6d00';
                }
                
                // ç»“æœåŠ¨ç”»
                resultDisplay.style.opacity = '0';
                resultDisplay.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    resultDisplay.style.transition = 'all 0.5s';
                    resultDisplay.style.opacity = '1';
                    resultDisplay.style.transform = 'scale(1)';
                }, 50);
            }
            
            // æ˜¾ç¤ºè½¬æ¢å…¬å¼
            function showFormula() {
                if (inputValue.value === '') {
                    alert('è¯·å…ˆè¾“å…¥ä¸€ä¸ªæ•°å€¼å¹¶ç‚¹å‡»"å¼€å§‹è½¬æ¢"æŒ‰é’®');
                    return;
                }
                
                const fromUnit = inputUnit.value;
                const toUnit = outputUnit.value;
                
                if (fromUnit === toUnit) {
                    formulaText.textContent = "ç›¸åŒå•ä½ä¸éœ€è¦è½¬æ¢å…¬å¼";
                } else {
                    const formulaKey = `${fromUnit}->${toUnit}`;
                    const formulas = unitData[currentType].formulas;
                    
                    if (formulas[formulaKey]) {
                        formulaText.textContent = formulas[formulaKey];
                    } else {
                        // å°è¯•åå‘å…¬å¼
                        const reverseKey = `${toUnit}->${fromUnit}`;
                        if (formulas[reverseKey]) {
                            formulaText.textContent = `æš‚æ—  ${fromUnit} åˆ° ${toUnit} çš„ç›´æ¥å…¬å¼\n\nå¯å…ˆè½¬æ¢ä¸ºå…¶ä»–å•ä½æˆ–ä½¿ç”¨: ${formulas[reverseKey]}`;
                        } else {
                            formulaText.textContent = "æš‚æ— æ­¤å•ä½è½¬æ¢çš„å…¬å¼ä¿¡æ¯";
                        }
                    }
                }
                
                // æ˜¾ç¤ºå…¬å¼å®¹å™¨
                formulaContainer.style.display = 'block';
            }
            
            // é‡ç½®è½¬æ¢å™¨
            function resetConverter() {
                inputValue.value = '';
                resultDisplay.textContent = 'ç­‰å¾…è½¬æ¢ä¸­...';
                resultDisplay.style.color = '#7f8c8d';
                formulaContainer.style.display = 'none';
            }
            
            // äº‹ä»¶ç›‘å¬
            tabTemp.addEventListener('click', () => switchType('temp'));
            tabLength.addEventListener('click', () => switchType('length'));
            tabWeight.addEventListener('click', () => switchType('weight'));
            
            inputUnit.addEventListener('change', resetConverter);
            outputUnit.addEventListener('change', resetConverter);
            
            inputValue.addEventListener('input', () => {
                formulaContainer.style.display = 'none';
            });
            
            convertBtn.addEventListener('click', convertUnits);
            explainBtn.addEventListener('click', showFormula);
            
            // è¾“å…¥æ¡†å›è½¦å“åº”
            inputValue.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    convertUnits();
                }
            });
            
            // åˆå§‹åŒ–
            updateUnitOptions();
        });
    </script>
</body>
</html>